<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Site</title>
	<link rel="stylesheet" type="text/css" href="css/font-awesome.min.css" />
	<link href="https://fonts.googleapis.com/css?family=Oranienbaum" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Great+Vibes' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Roboto:300,500' rel='stylesheet' type='text/css'>
	<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,900" rel="stylesheet">
	 <link  href="fotorama-4.6.4/fotorama.css" rel="stylesheet">
</head>
<body><header>
	<h2>Отфильтруйте так. чтобы остались только красные блоки:</h2>
	<button id="filter">Оставить красные блоки</button>
	<button id="filter2">Оставить красные блоки</button>
</header>


<div class="row">
	<div class="item hide">red </div>
	<div class="item green hide "></div>
	<div class="item green hide">red ыы</div>
	<div class="item blue hide"></div>
	<div class="item red hide"></div>
	<div class="item red hide">red </div>
	<div class="item green hide">red </div>
	<div class="item red hide"></div>
	<div class="item blue hide"></div>
	<div class="item blue hide"></div>
	<div class="item red hide"></div>
	<div class="item green hide"></div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

<script>
	var item = $('.item'),
    red = $('div:contains("red")');
	ss = $('div:contains("ыы")');

$('#filter').on('click', function () {
    item.addClass('hide');
    red.removeClass('hide');
    // Отсортируем видимые блоки в начало DOM дерева
    item.sortElements(function (a, b) {
        return $(a).hasClass('hide') > $(b).hasClass('hide') ? 1 : -1;
    });
});
	$('#filter2').on('click', function () {
    item.addClass('hide');
    ss.removeClass('hide');
    // Отсортируем видимые блоки в начало DOM дерева
    item.sortElements(function (a, b) {
        return $(a).hasClass('hide') > $(b).hasClass('hide') ? 1 : -1;
    });
});

jQuery.fn.sortElements = function () {
    var sort = [].sort;
    return function (comparator, getSortable) {
        getSortable = getSortable || function () {
            return this;
        };
        var placements = this.map(function () {
            var sortElement = getSortable.call(this),
                parentNode = sortElement.parentNode,
                nextSibling = parentNode.insertBefore(document.createTextNode(''), sortElement.nextSibling);
            return function () {
                if (parentNode === this) {
                    throw new Error("You can't sort elements if any one is a descendant of another.");
                }
                parentNode.insertBefore(this, nextSibling);
                parentNode.removeChild(nextSibling);
            };
        });
        return sort.call(this, comparator).each(function (i) {
            placements[i].call(getSortable.call(this));
        });
    };
}();
	</script>
</body>
</html>